CREATE TABLE session (
	uuid BINARY(16) NOT NULL,

	shortcode VARCHAR(16) NOT NULL,
	active TINYINT(1) NOT NULL DEFAULT 1,

	created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	updated TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

	PRIMARY KEY (uuid)
)

CREATE TABLE player (
	uuid BINARY(16) NOT NULL,

	session BINARY(16) NOT NULL,
	username VARCHAR(255) NOT NULL,

	created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	updated TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

	PRIMARY KEY (uuid),
	FOREIGN KEY (session) REFERENCES session(uuid) ON DELETE CASCADE
)

CREATE TABLE entry (
	uuid BINARY(16) NOT NULL,
	player BINARY(16) NOT NULL,
	session BINARY(16) NOT NULL,

	sips TINYINT DEFAULT 0,
	shots TINYINT DEFAULT 0,

	giveable TINYINT DEFAULT 0,
	transfer TINYINT DEFAULT 0,

	created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
	updated TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,

	PRIMARY KEY (uuid),
	FOREIGN KEY (player) REFERENCES player(uuid) ON DELETE CASCADE
)